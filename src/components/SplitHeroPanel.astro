---
interface Props {
  accent: "blue" | "red";
  title: string;
  quote?: string;
  subtitle?: string;
  bullets: string[];
  cta: string;
  secondary: string;
  href: string;
}

const { accent, title, quote, subtitle, bullets, cta, secondary, href } = Astro.props;
---
<div
  class="split-panel card-surface relative flex h-full min-h-[52vh] flex-col justify-between overflow-hidden border-2 border-transparent p-6 text-left transition-colors"
  style={`--accent: var(--${accent});`}
>
  <a href={href} aria-label={cta} class="absolute inset-0 z-0 focus-ring"></a>
  <div class="glow"></div>
  <div class="relative z-10 pointer-events-none">
    {quote && <p class="text-sm text-muted">{quote}</p>}
    <h2 class="mt-4 text-2xl font-semibold text-text sm:text-3xl">{title}</h2>
    {subtitle && <p class="mt-3 text-base text-muted sm:text-lg">{subtitle}</p>}
    <ul class="mt-5 space-y-2 text-sm text-muted">
      {bullets.map((bullet) => (
        <li class="flex items-start gap-2">
          <span class="mt-1 h-2 w-2 rounded-full bg-accent"></span>
          <span>{bullet}</span>
        </li>
      ))}
    </ul>
  </div>
  <div class="split-card relative z-10 mt-6 flex flex-col gap-3 sm:flex-row pointer-events-auto">
    <a class="button button-primary w-full sm:w-auto focus-ring" href={href}>{cta}</a>
    <a class="button button-secondary w-full sm:w-auto focus-ring" href="TODO: telegram link">{secondary}</a>
  </div>
</div>
